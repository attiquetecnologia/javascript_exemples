<div class="container" id="menu">
    
</div><!-- .container-fluid -->

<!-- Main menu -->
<div class="row" id="main_menu">
    <div class="col-md-2 submenu hidden" id="menu-back">
        <a href="#" onclick="principal();">
        <img src="" />
        <h3>Principal</h3>
        </a>
    </div>
{{for l in list(filter(lambda x: x.ctg_parent==None, main_menu)):}} <-- use your language to generate code -->
    
<div class="col-md-2 mainmenu" id="menu-{{=l.id}}" onclick="submenu({{=l.id}});">
        <a href="#" >
        <img src="" />
        <h3>{{=l.ctg_name}}</h3>
        </a>
    </div>
    
    
    {{for i in list(filter(lambda x: x.ctg_parent==l.id, main_menu)):}}
    <div class="col-md-2 submenu submenu-{{=l.id}} hidden" id="menu-{{=i.id}}">
        <a href="#" >
        <img src="" />
        <h3>{{=i.ctg_name}}</h3>
        </a>
    </div>
    {{pass}}
    
{{pass}}
</div>

<script type="text/javascript">
    function submenu(id){
        document.getElementById("menu-back").classList.toggle("hidden");
        document.querySelectorAll('.mainmenu').forEach(function(el) {
            el.classList.toggle("hidden");
        });
        document.querySelectorAll('.submenu-'+id).forEach(function(el) {
            el.classList.toggle("hidden");
        });

    }
    function principal(){
        document.getElementById("menu-back").classList.toggle("hidden");
        document.querySelectorAll('.mainmenu').forEach(function(el) {
            el.classList.remove("hidden");
        });
        document.querySelectorAll(".submenu").forEach(function(el) {
            el.classList.add("hidden");
        });
    }
</script>
